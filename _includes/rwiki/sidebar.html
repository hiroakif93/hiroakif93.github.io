
<script type="text/javascript">
  $(function(){
    
    $("ul.rwiki-dropdown li").click(function(e){
      e.stopPropagation(); 
      $(this).siblings().find("ul").slideUp(150); 
      $(this).children("ul").slideToggle(150); 
    });

    $('html').click(function() {
      $('ul.rwiki-dropdown ul').slideUp(150);
    });

    const hiddenbar = document.getElementById("js-hiddenbar");
    const dropdown = document.getElementById("js-dropdown");
    const openbutton = document.getElementById("openbutton");
    const closebutton = document.getElementById("closebutton");

    if (hiddenbar && dropdown) {
      hiddenbar.addEventListener("click", function(e) {
        e.stopPropagation();
        dropdown.classList.toggle("active");
        closebutton.classList.toggle("active");
        openbutton.classList.toggle("active");

      });
    }
    
  });
</script>

<nav class="sidebar"> 
      
  <!--  Search bar  -->

  <div class="search-bar">
    <h1>
      <a href="{{ site.data.RWIKI.link }}">
      R wiki
      </a>
    </h1>
  <!--  {% include rwiki/searchbar.html %} -->
  </div>

  <button class="hiddenbar" id="js-hiddenbar">    
      <div class="openbutton" id="openbutton"><i class="fa-solid fa-plus"></i></div>
      <!-- <i class="fa-solid fa-location-arrow"></i>  -->
      <!-- <i class="fa-solid fa-square-plus"></i> -->
      <div class="closebutton" id="closebutton"><i class="fa-solid fa-minus"></i></div>
  </button>

  <!--  Navbar  -->    
  <div class="rwiki-sidebar">

    <ul class="rwiki-dropdown" id="js-dropdown">
      {% for item in site.data.RWIKI %}
        {% if item.submenu %}
          <li>
            <a href="#">{{ item.name }}</a>
            <ul> 
              {% for subitem in item.submenu %}
                <li><a href="{{ subitem.link }}">{{ subitem.subname }}</a></li>
              {% endfor %}
            </ul>
          </li>
        {% else %}
          <li>
            <a href="{{ item.link }}">{{ item.name }}</a>
          </li>
        {% endif %}
      {% endfor %}
      </ul>

  </div> 

</nav>

